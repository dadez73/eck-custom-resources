{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Run operator (local cluster)",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}",
      "cwd": "${workspaceFolder}",
      "args": ["--config=config/manager/controller_manager_config.yaml"],
      "env": {
        // point to your kubeconfig if not default
        "KUBECONFIG": "${env:KUBECONFIG}",
        // common operator envs; tweak/remove as needed
        "WATCH_NAMESPACE": "",
        "ENABLE_WEBHOOKS": "false"
      }
    },
    {
      "name": "Run main.go (explicit)",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}/main.go",
      "cwd": "${workspaceFolder}",
      "args": ["--config=config/manager/controller_manager_config.yaml"],
      "env": {
        "KUBECONFIG": "${env:KUBECONFIG}",
        "WATCH_NAMESPACE": "",
        "ENABLE_WEBHOOKS": "false"
      }
    },
    {
      "name": "Test controllers package",
      "type": "go",
      "request": "launch",
      "mode": "test",
      "program": "${workspaceFolder}/controllers",
      "cwd": "${workspaceFolder}",
      "args": ["-test.v"]
    },
    {
      "name": "Attach to Delve (remote/container)",
      "type": "go",
      "request": "attach",
      "mode": "remote",
      "host": "127.0.0.1",
      "port": 2345
    }
  ]
}
